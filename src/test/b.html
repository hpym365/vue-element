<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8>
  <title>vue-element</title>
  <link href=app.css rel=stylesheet>
</head>
<body>
<div id=app>

</div>
<button onclick="sortfun()">datalist</button>
<script type=text/javascript src=http://localhost:8888/app.js></script>
<script type=text/javascript src=a.js></script>
<script type=text/javascript src=vue.js></script>
<script type=text/javascript src=axios.js></script>
<script>

  var dl1 = []
  var cl1 = []

  function sortfun(pararm ) {
    debugger
    axios.post('http://localhost:8080/vue/main/qryStudent.json',pararm).then(function (json) {
      console.log(json)
      grid1.datalist = json.data.list
      grid1.collist = [{
        showname: '姓123名111',
        colname: 'name',
        show: true,
        type: 'button-component',
        sort: true,
        sortType: 'desc',
        width: '50%'
      }, {showname: '年龄', colname: 'age', show: true, type: 'a-component', sort: true, sortType: 'desc'}, {
        showname: '性别',
        colname: 'sex',
        show: true
      }, {showname: '备注', colname: 'desc', show: true}, {
        showname: '删除',
        colname: 'delete',
        show: true,
        type: 'delete-component'
      }]
    })
  }

  var sf = function sortfun1() {
    alert('hahasortfun1')
  }

  var grid1 = grid('grida', dl1, cl1);
  console.log(this.grid1)
  grid1.setSortFun(sortfun)


  var dl2 = [{name: '张123三222', age: '22', sex: 'male', desc: 'nonono'}]
  var cl2 = [{
    showname: '姓123名2222',
    colname: 'name',
    show: true,
    type: 'button-component',
    sort: true,
    sortType: 'desc',
    width: '50%'
  }, {showname: '年龄', colname: 'age', show: true, type: 'a-component', sort: true, sortType: 'desc'}, {
    showname: '性别',
    colname: 'sex',
    show: true
  }, {showname: '备注', colname: 'desc', show: true}, {
    showname: '删除',
    colname: 'delete',
    show: true,
    type: 'delete-component'
  }]
  var grid2 = grid('gridb', dl2, cl2, sf);

  function dl() {
    debugger
    console.log(grid2.datalist)
    grid2.datalist = [{name: '33333', age: '66', sex: 'male', desc: 'nonono'}]
  }


</script>
</body>
</html>
